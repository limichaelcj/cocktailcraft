<div class="ui container">

  <!-- header -->

  <div class="flex-row-divide-end padding-all cover-image">
    <!-- underlay -->
    <div class="background-underlay cocktail-banner-img">
      <img src="<%= cocktail_image_path(@cocktail) %>">
    </div>

    <!-- cocktail photo -->
    <div class="img-sq-circle cocktail-avatar margin-right flex_static mobile hidden">
      <img src="<%= cocktail_image_path(@cocktail) %>" alt="<%= @cocktail.name %>">
    </div>
    <!-- cocktail name, creator -->
    <div class="ui basic segment flex_fluid">
      <h2 class="ui huge inverted header margin-left">
        <%= @cocktail.name || 'Unnamed Cocktail' %>
        <div class="sub header">
          <%= cocktail_creator(@cocktail) %>
        </div>
      </h2>
    </div>

    <!-- actions -->
    <div class="ui vertical labeled icon menu flex_static">
      <!-- like -->
      <%= link_to mark_cocktail_path, id: 'mark-link', class: 'item' do %>
        <% saved = user_signed_in? && current_user.marked.include?(@cocktail) %>
        <i class="<%= saved ? 'yellow bookmark' : 'grey bookmark outline' %> icon"></i>
        <span>Save<%= saved ? 'd' : '' %></span>
      <% end %>
      <!-- remix cocktail -->
      <%= link_to remix_cocktail_path(@cocktail), method: :post, class: 'item' do %>
        <i class="purple icon">
          <i class="icons">
            <i class="flask icon"></i>
            <i class="top right corner random icon"></i>
          </i>
        </i>
        Remix
      <% end %>
      <!-- edit cocktail -->
      <% if current_user && current_user == @cocktail.user %>
        <%= link_to edit_cocktail_path(@cocktail), class: 'item' do %>
          <i class="orange icon">
            <i class="icons">
              <i class="flask icon"></i>
              <i class="top right corner edit icon"></i>
            </i>
          </i>
          Lab
        <% end %>
      <% end %>
    </div>
  </div>

  <!-- content -->

  <div class="margin-x">

    <!-- description -->
    <div class="ui basic segment">
      <div class="ui raised purple segment">
        <p><%= @cocktail.description %></p>
      </div>
    </div>

    <!-- main content grid -->
    <div class="ui tablet reversed computer reversed stackable grid">

      <div class="five wide column">
        <div class="ui basic orange secondary segment">
          <h3 class="ui dividing header">Ingredients</h3>
          <div class="margin-left margin-bot">
            <% if @cocktail.doses.empty? %>
            <div>Nothing here yet!</div>
            <% else %>
            <ul class="ui list">
              <% @cocktail.doses.each do |dose| %>
              <li class="item">
                <%= stringify_dose_amount(dose, true) %>
                <%= dose.measurement ? ' of ' : ' ' %>
                <strong><%= dose.ingredient.name %></strong>
              </li>
              <% end %>
            </ul>
            <% end %>
          </div>
        </div>
      </div>

      <div class="eleven wide column">
        <div class="ui basic segment">
          <h3 class="ui horizontal divider header">Instructions</h3>
          <pre><%= @cocktail.instructions || "No instructions yet." %></pre>
        </div>
      </div>

    </div>
    <!-- /main content grid -->

    <!-- reviews -->
    <div class="margin-top padding-all">
      <div class="ui teal segment">
        <h3 class="ui center aligned header">Reviews</h3>
        <div class="ui relaxed divided list">
          <% 4.times do %>
          <div class="item">
            <div class="ui basic segment">
              <div class="ui placeholder">
                <div class="line"></div>
                <div class="line"></div>
              </div>
            </div>
          </div>
          <% end %>
        </div>
      </div>
    </div>


  </div> <!-- content -->

</div>
