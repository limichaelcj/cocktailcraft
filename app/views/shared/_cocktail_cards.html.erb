<div class="ui padded basic segment">

  <div class="ui four doubling stackable cards">

    <% cocktails.each do |cocktail| %>
      <a href="<%= cocktail_path(cocktail) %>" class="card">
        <div class="image">
          <img src="<%= cocktail_image_path(cocktail) %>" alt="<%= cocktail.name %>">
        </div>
        <div class="content">
          <div class="header"><%= cocktail.name %></div>
          <div class="meta">
            <% if cocktail.reviews.any? %>
              <span>
                <%= (cocktail.reviews.map { |r| r.rating }.reduce(:+) * 10).round / 10.0 %>
                <i class="star icon"></i>
              </span>
            <% end %>
            <span>
              @<%= cocktail.user.name %>
            </span>
            <span>
              <%= cocktail.reviews.any? ? cocktail.reviews.count : '0' %> review<%= 's' if cocktail.reviews.count != 1 %>
            </span>
          </div>
          <div class="margin-top">
            <p class="color-reset margin-top">
              <%= cocktail.description.length > 99 ? cocktail.description[0...99] + '...' : cocktail.description %>
            </p>
          </div>
        </div>
      </a>
    <% end %>

  </div>

</div>
